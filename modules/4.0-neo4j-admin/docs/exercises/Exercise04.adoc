:imagesdir: ../images

== Exercise #4: Creating and deleting a database

In this exercise you will gain some experience with creating and deleting a database.

=== Before you begin

. Make sure you have a terminal window open to your EC2 instance for this course.
. You are the user, _neo4j_.
. Ensure that the Neo4j instance is started.

=== Exercise steps:

. Connect to the Neo4j instance with `cypher-shell`.
. Enter the command to show all databases.
    *Hint*: You must use the system database.
image::ShowDatabasesEx.png[ShowDatabasesEx,width=1000,align=center]
[start=3]
. Enter the command to create a database named _databaseone_.
. Enter the command to show all databases.
image::AddDatabaseOne.png[AddDatabaseOne,width=1000,align=center]
[start=5]
. Exit `cypher-shell`.
. View the directories where the databases are located for this instance.
image::AddDatabaseOneFiles.png[AddDatabaseOneFiles,width=1000,align=center]
[start=7]
. Modify the *neo4j.conf* file to use _databaseone_ as the default database.

*Hint*: In the terminal window:
----
sudo vi /etc/neo4j/neo4j.conf
Type "i" to enter input mode.
Uncomment the dbms.default.database property.
Replace neo4j with databaseone.
Press ESC to get out of input mode.
Type ":w" to write the changes to the file.
Type ":q"
----
[start=8]
. Restart the Neo4j instance. Any change to the Neo4j configuration file requires a restart of the Neo4j instance.
----
sudo systemctl restart neo4j
----
[start=9]
. Connect to the Neo4j instance with `cypher-shell`.
. Enter the command to show all databases.
. Drop the database _neo4j_.
. Enter the command to show all databases.
image::RemovedNeo4j.png[RemovedNeo4j,width=1000,align=center]
[start=13]
. Exit `cypher-shell`.

=== Taking it further

. Try resetting a database that has data in it.
. Try conditionally creating a database.

=== Exercise summary

You have now successfully added and dropped a database, as well as specifying a different database as the default database for clients.

