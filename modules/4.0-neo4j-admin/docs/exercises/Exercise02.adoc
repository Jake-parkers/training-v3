
== Exercise #2: Managing the Neo4j instance

In this Exercise, you will stop and start the Neo4j instance and view its status and log file using the Debian installation you verified in the previous exercise.

=== Before you begin

For the exercises in this course, the commands you use to access the Neo4j instance, should be done as the user, _neo4j_. On the EC2 instance created for you, the user, _neo4j_ has the password _neo4j_ and has sudo permissions.

. Open a terminal on your system an connect to the EC2 instance as the user, _ubuntu_
. Change to the user, _neo4j_ where the password is also _neo4j_. Don't confuse the password for the user, _neo4j_ with the password you will use for the Neo4j instance.
----
su neo4j
neo4j
----

=== Exercise steps:

. View the status of the _neo4j_ service:

----
systemctl status neo4j
----

You should see something like this:

image::Status-Debian.png[Status-Debian,width=600,align=center]

[start=3]
. Create the */var/run/neo4j* directory and make sure it is owned by *neo4j*
----
sudo mkdir /var/run/neo4j
sudo chown neo4j:neo4j /var/run/neo4j
----

image::add_var_run_neo4j.png[add_var_run_neo4j,width=600,align=center]

[start=4]
. Disable the _neo4j_ service:
----
sudo systemctl disable neo4j
----

image::disable_neo4j_service.png[disable_neo4j_service,width=600,align=center]

[start=5]
. View the status of the Neo4j instance.
----
systemctl status neo4j
----

image::neo4j_status_service_disabled.png[neo4j_status_service_disabled,width=600,align=center]

[start=6]
. Start the Neo4j instance.

----
sudo systemctl start neo4j
----

[start=7]
. View the status of the Neo4j instance.

image::Neo4j_started.png[Neo4j_started,width=600,align=center]

[start=8]
. Stop the Neo4j instance and then view its status.

----
sudo systemctl stop neo4j
systemctl status neo4j
----
image::Stop_neo4j.png[Stop_neo4j,width=600,align=center]

[start=9]
. Examine the end of the Neo4j log file.

----
journalctl -e -u neo4j
----

image::JournalEnd.png[JournalEnd,width=600,align=center]

[start=10]
. Examine the database directories created for this Neo4j instance.

image::DataFiles.png[DataFiles,width=600,align=center]

[start=11]
. Examine the log files for this Neo4j instance.

image::ViewLogFiles.png[ViewLogFiles,width=600,align=center]

=== Exercise summary

You have now gained experience starting and stopping a Neo4j instance as well as viewing its status and the log file for the instance.

